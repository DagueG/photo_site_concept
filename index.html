<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <title>Valentine Garden</title>
  <link rel="icon" href="./assets/img/seeds_favicon.png" type="image/png">
  <link rel="apple-touch-icon" href="./assets/img/seeds_favicon.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./style.css?v=5"/>
</head>
<body>
  <!-- Modal Authentification PIN -->
  <div id="pinModal" class="pin-modal">
    <div class="pin-container">
      <h1><img src="assets/img/sprout_1.png" alt="Pousse" class="header-sprout"> Valentine Garden <img src="assets/img/sprout_1.png" alt="Pousse" class="header-sprout"></h1>
      <input 
        type="password" 
        id="pinInput" 
        maxlength="4" 
        inputmode="numeric" 
        placeholder="â€¢â€¢â€¢â€¢"
      />
      <button id="pinSubmit">AccÃ©der</button>
    </div>
  </div>

  <!-- Jeu Principal -->
  <div id="gameContainer" class="hidden">
    <!-- Header -->
    <header class="game-header">
      <h1><img src="assets/img/sprout_1.png" alt="Pousse" class="header-sprout"> Valentine Garden <img src="assets/img/sprout_1.png" alt="Pousse" class="header-sprout"></h1>
      <div class="quest-bar">
        <span>Arbres plantÃ©s: <strong id="treeCount">0</strong>/14</span>
      </div>
    </header>

    <!-- Contenu principal (grille + sidebar) -->
    <div style="display: flex; flex: 1; overflow: hidden;">
      <!-- Grille de jeu Canvas -->
      <div class="game-area">
        <canvas id="gameCanvas"></canvas>
        <canvas id="minimapCanvas" class="minimap"></canvas>
      </div>

      <!-- Menu latÃ©ral droit -->
      <aside class="sidebar">
        <div class="tool-item" id="seedTool" draggable="true">
          <img src="assets/img/seeds.png" alt="Graine"/>
          <p>Graine</p>
        </div>
        <div class="tool-item" id="shovelTool" draggable="true">
          <img src="assets/img/shovel.png" alt="Pelle"/>
          <p>Pelle</p>
        </div>
        <div class="tool-item" id="bucketTool" draggable="true">
          <img src="assets/img/bucket.png" alt="Sceau"/>
          <p>Eau</p>
        </div>
        <button id="resetBtn" class="reset-btn">
          Reset
        </button>
      </aside>
    </div>

    <!-- IcÃ´ne outil flottante -->
    <div id="floatingToolIcon" class="floating-tool-icon hidden"></div>
  </div>

  <!-- Enveloppe notification -->
  <div id="envelopeNotification" class="envelope-notification hidden">
    <div class="envelope-icon">ğŸ’Œ</div>
  </div>

  <!-- Modal Valentine Popup -->
  <div id="valentineModal" class="valentine-modal hidden">
    <div class="valentine-container">
      <div class="hearts">ğŸ’• ğŸ’• ğŸ’•</div>
      <h2>Veux-tu Ãªtre ma Valentine?</h2>
      <div class="button-group">
        <button id="yesBtn" class="btn-yes">Oui â™¥ï¸</button>
        <button id="noBtn" class="btn-no">Non</button>
      </div>
    </div>
  </div>

  <script src="./script.js?v=5"></script>
</body>
</html>
